# 관계와 조인의 의해

## 관계(relationship)의 개념
- 엔티티와 인스턴스 사이의 논리적인 연관성
- 엔티티의 정의, 속성, 정의 및 관계 정의에 따라서도 다양하게 변할 수 있음.
- `관계를 맺는다`는 의미는 `식별자를 자식에 상속`하고, 상속된 속성을 `매핑키(조인키)`로 활용 -> 부모와 자식을 연결함.


<p>

## 관계의 분류
- 관계는 존재에 의한 관계와 행위에 의한 관계로 분류
- `존재 관계`는 엔티티 간의 상태를 의미
  - ex) 사원 엔티티는 부서 엔티티에 소속
- `행위 관계`는 엔티티 간의 어떤 행위를 잇는 것을 의미
  - ex) 주문은 고객이 주문할 때 발생
</p>

<p>

## 조인의 의미
- 결국 데이터의 중복을 피하기 위해 테이블은 정규화에 의해 분리된다.  
  분리되면서 두 테이블은 서로 관계를 맺게 되고, 다시 이 두테이블은 데이터를 동시에 출력하거나 관게를 잇는 테이블을 참조하기 위해서는 테이블을
  연결해야하는데 이 과정을 조인이라고 한다.
</p>


<p>

## 계층형 데이터 모델
- `자기 자신끼리 관계가 발생` 즉, 하나의 엔티티 내의 인스턴스끼리 계층 구조를 가지는 경우
- 계층 구조를 갖는 인스턴스끼리 연결하는 조인을 `셀프 조인`이라고 한다.(즉, 같은 테이블을 여러 번 연결)
```sql
SELECT E1.ENAME AS 사원이름,
       E2.ENAME AS 매니저이름
FROM EMP E1, EMP E2
WHERE E1.MGR = E2.EMPNO;
```
</p>

<p>

## 상호 배타적 관계
- 두 테이블 중 `하나만 가능`한 관계
- ex) 주문 엔티티에는 개인 또는 법인번호 둘 중 하나만 상속될 수 있음 => 상호배타적 관계
      즉, 주문은 개인고객이나 법인고객 둘 중 하나의 고객만이 가능하다.
</p>



